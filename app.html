<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒã‚±ãƒ¢ãƒ³å›³é‘‘ã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰ ğŸ®</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.js"></script>
    <style>
        body { font-family: 'Hiragino Kaku Gothic Pro', 'ãƒ’ãƒ©ã‚®ãƒè§’ã‚´ Pro W3', Meiryo, ãƒ¡ã‚¤ãƒªã‚ª, Osaka, 'MS PGothic', arial, helvetica, sans-serif; }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-purple-50 min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-purple-700 mb-2">ğŸ® ãƒã‚±ãƒ¢ãƒ³å›³é‘‘ã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰</h1>
            <p class="text-gray-600">ã‚¹ã‚«ãƒ¼ãƒ¬ãƒƒãƒˆãƒ»ãƒã‚¤ã‚ªãƒ¬ãƒƒãƒˆå®Œå…¨æ”»ç•¥ç‰ˆ âœ¨</p>
        </div>

        <!-- çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
            <div class="bg-white rounded-lg shadow p-6 text-center">
                <div class="text-2xl font-bold text-purple-600" id="totalCount">710</div>
                <div class="text-sm text-gray-500">ç·ãƒã‚±ãƒ¢ãƒ³æ•°</div>
            </div>
            <div class="bg-white rounded-lg shadow p-6 text-center">
                <div class="text-2xl font-bold text-green-600" id="caughtCount">0</div>
                <div class="text-sm text-gray-500">ã‚²ãƒƒãƒˆæ¸ˆã¿</div>
            </div>
            <div class="bg-white rounded-lg shadow p-6 text-center">
                <div class="text-2xl font-bold text-red-600" id="remainingCount">710</div>
                <div class="text-sm text-gray-500">æœªã‚²ãƒƒãƒˆ</div>
            </div>
            <div class="bg-white rounded-lg shadow p-6 text-center">
                <div class="text-2xl font-bold text-blue-600" id="progressPercent">0%</div>
                <div class="text-sm text-gray-500">å®Œæˆåº¦</div>
            </div>
        </div>

        <!-- ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚¨ãƒªã‚¢ -->
        <div class="bg-white rounded-lg shadow p-6 mb-6">
            <h2 class="text-xl font-bold mb-4">ğŸ” ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div>
                    <label class="block text-sm font-medium mb-2">å›³é‘‘ã§çµã‚Šè¾¼ã¿</label>
                    <select id="regionFilter" class="w-full border rounded px-3 py-2">
                        <option value="">ã™ã¹ã¦</option>
                        <option value="paldea">ãƒ‘ãƒ«ãƒ‡ã‚¢å›³é‘‘</option>
                        <option value="kitakami">ã‚­ã‚¿ã‚«ãƒŸå›³é‘‘</option>
                        <option value="blueberry">ãƒ–ãƒ«ãƒ¼ãƒ™ãƒªãƒ¼å›³é‘‘</option>
                        <option value="duplicates">é‡è¤‡ãƒã‚±ãƒ¢ãƒ³</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-2">ã‚²ãƒƒãƒˆçŠ¶æ³</label>
                    <select id="statusFilter" class="w-full border rounded px-3 py-2">
                        <option value="">ã™ã¹ã¦</option>
                        <option value="caught">ã‚²ãƒƒãƒˆæ¸ˆã¿</option>
                        <option value="not-caught">æœªã‚²ãƒƒãƒˆ</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-2">ãƒã‚±ãƒ¢ãƒ³åã§æ¤œç´¢</label>
                    <input type="text" id="nameSearch" placeholder="ãƒã‚±ãƒ¢ãƒ³åã‚’å…¥åŠ›..." class="w-full border rounded px-3 py-2">
                </div>
            </div>
        </div>

        <!-- ãƒã‚±ãƒ¢ãƒ³ãƒªã‚¹ãƒˆ -->
        <div class="bg-white rounded-lg shadow">
            <div class="p-6 border-b">
                <h2 class="text-xl font-bold">ğŸ“‹ ãƒã‚±ãƒ¢ãƒ³ãƒªã‚¹ãƒˆ</h2>
                <p class="text-gray-600">ã‚¯ãƒªãƒƒã‚¯ã§ã‚²ãƒƒãƒˆçŠ¶æ³ã‚’åˆ‡ã‚Šæ›¿ãˆ</p>
            </div>
            <div id="pokemonList" class="max-h-96 overflow-y-auto">
                <!-- ãƒã‚±ãƒ¢ãƒ³ãƒªã‚¹ãƒˆãŒã“ã“ã«å‹•çš„ã«ç”Ÿæˆã•ã‚Œã¾ã™ -->
            </div>
        </div>

        <!-- é‡è¤‡åˆ†æã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <div class="mt-8 bg-white rounded-lg shadow p-6">
            <h2 class="text-xl font-bold mb-4">ğŸ“Š é‡è¤‡åˆ†æ</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="text-center p-4 bg-blue-50 rounded">
                    <div class="text-2xl font-bold text-blue-600">168</div>
                    <div class="text-sm">é‡è¤‡ãƒã‚±ãƒ¢ãƒ³</div>
                </div>
                <div class="text-center p-4 bg-green-50 rounded">
                    <div class="text-2xl font-bold text-green-600">253</div>
                    <div class="text-sm">ãƒ‘ãƒ«ãƒ‡ã‚¢å°‚ç”¨</div>
                </div>
                <div class="text-center p-4 bg-purple-50 rounded">
                    <div class="text-2xl font-bold text-purple-600">357</div>
                    <div class="text-sm">DLCå°‚ç”¨</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ï¼ˆå®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ã¯å¤–éƒ¨JSONã‹ã‚‰èª­ã¿è¾¼ã¿ï¼‰
        let pokemonData = [];
        
        // åˆæœŸåŒ–
        async function initialize() {
            // å®Ÿéš›ã®ä½¿ç”¨æ™‚ã¯ã“ã“ã§JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿
            // const response = await fetch('pokemon_data.json');
            // pokemonData = await response.json();
            
            // ãƒ‡ãƒ¢ç”¨ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿
            pokemonData = [
                {
                    id: 1,
                    name: "ãƒ‹ãƒ£ã‚ªãƒ",
                    regions: ["paldea"],
                    pokedex_numbers: { paldea: 1, kitakami: null, blueberry: null },
                    caught: false
                },
                {
                    id: 2,
                    name: "ã‚¢ãƒƒãƒ—ãƒªãƒ¥ãƒ¼",
                    regions: ["paldea", "kitakami"],
                    pokedex_numbers: { paldea: 109, kitakami: 34, blueberry: null },
                    caught: false
                },
                {
                    id: 3,
                    name: "ãƒ‰ãƒ¼ãƒ‰ãƒ¼",
                    regions: ["blueberry"],
                    pokedex_numbers: { paldea: null, kitakami: null, blueberry: 1 },
                    caught: true
                }
                // ... å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ã¯710åŒ¹åˆ†
            ];
            
            renderPokemonList();
            updateStats();
            setupEventListeners();
        }

        // ãƒã‚±ãƒ¢ãƒ³ãƒªã‚¹ãƒˆã®æç”»
        function renderPokemonList() {
            const listContainer = document.getElementById('pokemonList');
            const regionFilter = document.getElementById('regionFilter').value;
            const statusFilter = document.getElementById('statusFilter').value;
            const nameSearch = document.getElementById('nameSearch').value.toLowerCase();
            
            let filteredData = pokemonData.filter(pokemon => {
                // å›³é‘‘ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
                if (regionFilter) {
                    if (regionFilter === 'duplicates') {
                        if (pokemon.regions.length <= 1) return false;
                    } else {
                        if (!pokemon.regions.includes(regionFilter)) return false;
                    }
                }
                
                // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
                if (statusFilter === 'caught' && !pokemon.caught) return false;
                if (statusFilter === 'not-caught' && pokemon.caught) return false;
                
                // åå‰æ¤œç´¢
                if (nameSearch && !pokemon.name.toLowerCase().includes(nameSearch)) return false;
                
                return true;
            });
            
            listContainer.innerHTML = filteredData.map(pokemon => `
                <div class="flex items-center justify-between p-4 border-b hover:bg-gray-50 cursor-pointer" 
                     onclick="toggleCaught(${pokemon.id})">
                    <div class="flex-1">
                        <div class="flex items-center">
                            <span class="text-lg font-medium ${pokemon.caught ? 'text-green-600' : 'text-gray-700'}">
                                ${pokemon.caught ? 'âœ…' : 'â­•'} ${pokemon.name}
                            </span>
                            ${pokemon.regions.length > 1 ? '<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded">é‡è¤‡</span>' : ''}
                        </div>
                        <div class="text-sm text-gray-500 mt-1">
                            ${pokemon.regions.map(region => {
                                const regionNames = { paldea: 'ãƒ‘ãƒ«ãƒ‡ã‚¢', kitakami: 'ã‚­ã‚¿ã‚«ãƒŸ', blueberry: 'ãƒ–ãƒ«ãƒ¼ãƒ™ãƒªãƒ¼' };
                                const number = pokemon.pokedex_numbers[region];
                                return `${regionNames[region]}å›³é‘‘ #${number}`;
                            }).join(' / ')}
                        </div>
                    </div>
                    <div class="text-right">
                        <span class="text-xs px-2 py-1 rounded ${pokemon.caught ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}">
                            ${pokemon.caught ? 'ã‚²ãƒƒãƒˆæ¸ˆã¿' : 'æœªã‚²ãƒƒãƒˆ'}
                        </span>
                    </div>
                </div>
            `).join('');
        }

        // ã‚²ãƒƒãƒˆçŠ¶æ³ã‚’åˆ‡ã‚Šæ›¿ãˆ
        function toggleCaught(pokemonId) {
            const pokemon = pokemonData.find(p => p.id === pokemonId);
            if (pokemon) {
                pokemon.caught = !pokemon.caught;
                renderPokemonList();
                updateStats();
                
                // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜ï¼ˆå®Ÿéš›ã®ä½¿ç”¨æ™‚ï¼‰
                localStorage.setItem('pokemonProgress', JSON.stringify(pokemonData));
            }
        }

        // çµ±è¨ˆã®æ›´æ–°
        function updateStats() {
            const total = pokemonData.length;
            const caught = pokemonData.filter(p => p.caught).length;
            const remaining = total - caught;
            const progress = total > 0 ? Math.round((caught / total) * 100) : 0;
            
            document.getElementById('totalCount').textContent = total;
            document.getElementById('caughtCount').textContent = caught;
            document.getElementById('remainingCount').textContent = remaining;
            document.getElementById('progressPercent').textContent = progress + '%';
        }

        // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã®è¨­å®š
        function setupEventListeners() {
            document.getElementById('regionFilter').addEventListener('change', renderPokemonList);
            document.getElementById('statusFilter').addEventListener('change', renderPokemonList);
            document.getElementById('nameSearch').addEventListener('input', renderPokemonList);
        }

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', initialize);
    </script>
</body>
</html>
