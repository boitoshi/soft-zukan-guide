#!/usr/bin/env node
/**
 * å…¨ã‚²ãƒ¼ãƒ ã®å®Œå…¨å›³é‘‘ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ
 * ãƒãƒ¼ã‚¸ãƒ§ãƒ³é™å®šæƒ…å ±ã‚’æ­£ç¢ºã«å«ã‚€
 *
 * ä½¿ã„æ–¹: node scripts/generate-full-dex.js
 */

import fs from "fs";
import path from "path";
import { fileURLToPath } from "url";

const __dirname = path.dirname(fileURLToPath(import.meta.url));

// ============================================================
// USUM ã‚¢ãƒ­ãƒ¼ãƒ©å›³é‘‘ (403åŒ¹)
// ============================================================
const USUM_POKEMON = [
  [722, "Rowlet"],
  [723, "Dartrix"],
  [724, "Decidueye"],
  [725, "Litten"],
  [726, "Torracat"],
  [727, "Incineroar"],
  [728, "Popplio"],
  [729, "Brionne"],
  [730, "Primarina"],
  [731, "Pikipek"],
  [732, "Trumbeak"],
  [733, "Toucannon"],
  [734, "Yungoos"],
  [735, "Gumshoos"],
  [19, "Rattata"],
  [20, "Raticate"],
  [10, "Caterpie"],
  [11, "Metapod"],
  [12, "Butterfree"],
  [165, "Ledyba"],
  [166, "Ledian"],
  [167, "Spinarak"],
  [168, "Ariados"],
  [25, "Pichu"],
  [26, "Pikachu"],
  [172, "Raichu"],
  [736, "Grubbin"],
  [737, "Charjabug"],
  [738, "Vikavolt"],
  [438, "Bonsly"],
  [185, "Sudowoodo"],
  [440, "Happiny"],
  [113, "Chansey"],
  [242, "Blissey"],
  [446, "Munchlax"],
  [143, "Snorlax"],
  [79, "Slowpoke"],
  [80, "Slowbro"],
  [199, "Slowking"],
  [278, "Wingull"],
  [279, "Pelipper"],
  [63, "Abra"],
  [64, "Kadabra"],
  [65, "Alakazam"],
  [52, "Meowth"],
  [53, "Persian"],
  [81, "Magnemite"],
  [82, "Magneton"],
  [462, "Magnezone"],
  [88, "Grimer"],
  [89, "Muk"],
  [58, "Growlithe"],
  [59, "Arcanine"],
  [54, "Psyduck"],
  [55, "Golduck"],
  [39, "Jigglypuff"],
  [40, "Wigglytuff"],
  [174, "Igglybuff"],
  [66, "Machop"],
  [67, "Machoke"],
  [68, "Machamp"],
  [524, "Roggenrola"],
  [525, "Boldore"],
  [526, "Gigalith"],
  [703, "Carbink"],
  [302, "Sableye"],
  [744, "Rockruff"],
  [745, "Lycanroc"],
  [327, "Spinda"],
  [72, "Tentacool"],
  [73, "Tentacruel"],
  [456, "Finneon"],
  [457, "Lumineon"],
  [550, "Basculin"],
  [86, "Seel"],
  [87, "Dewgong"],
  [41, "Zubat"],
  [42, "Golbat"],
  [169, "Crobat"],
  [21, "Spearow"],
  [22, "Fearow"],
  [627, "Rufflet"],
  [628, "Braviary"],
  [629, "Vullaby"],
  [630, "Mandibuzz"],
  [56, "Mankey"],
  [57, "Primeape"],
  [225, "Delibird"],
  [215, "Sneasel"],
  [461, "Weavile"],
  [50, "Diglett"],
  [51, "Dugtrio"],
  [749, "Mudbray"],
  [750, "Mudsdale"],
  [174, "Igglybuff"],
  [35, "Clefairy"],
  [36, "Clefable"],
  [173, "Cleffa"],
  [239, "Elekid"],
  [125, "Electabuzz"],
  [466, "Electivire"],
  [240, "Magby"],
  [126, "Magmar"],
  [467, "Magmortar"],
  [371, "Bagon"],
  [372, "Shelgon"],
  [373, "Salamence"],
  [443, "Gible"],
  [444, "Gabite"],
  [445, "Garchomp"],
  [147, "Dratini"],
  [148, "Dragonair"],
  [149, "Dragonite"],
  [137, "Porygon"],
  [233, "Porygon2"],
  [474, "PorygonZ"],
  [27, "Sandshrew"],
  [28, "Sandslash"],
  [37, "Vulpix"],
  [38, "Ninetales"],
  [60, "Poliwag"],
  [61, "Poliwhirl"],
  [62, "Poliwrath"],
  [186, "Politoed"],
  [118, "Goldeen"],
  [119, "Seaking"],
  [349, "Feebas"],
  [350, "Milotic"],
  [222, "Corsola"],
  [120, "Staryu"],
  [121, "Starmie"],
  [170, "Chinchou"],
  [171, "Lanturn"],
  [746, "Wishiwashi"],
  [747, "Mareanie"],
  [748, "Toxapex"],
  [339, "Barboach"],
  [340, "Whiscash"],
  [318, "Carvanha"],
  [319, "Sharpedo"],
  [690, "Skrelp"],
  [691, "Dragalge"],
  [692, "Clauncher"],
  [693, "Clawitzer"],
  [320, "Wailmer"],
  [321, "Wailord"],
  [131, "Lapras"],
  [102, "Exeggcute"],
  [103, "Exeggutor"],
  [753, "Fomantis"],
  [754, "Lurantis"],
  [755, "Morelull"],
  [756, "Shiinotic"],
  [46, "Paras"],
  [47, "Parasect"],
  [60, "Poliwag"],
  [296, "Makuhita"],
  [297, "Hariyama"],
  [739, "Crabrawler"],
  [740, "Crabominable"],
  [759, "Stufful"],
  [760, "Bewear"],
  [761, "Bounsweet"],
  [762, "Steenee"],
  [763, "Tsareena"],
  [764, "Comfey"],
  [127, "Pinsir"],
  [214, "Heracross"],
  [132, "Ditto"],
  [133, "Eevee"],
  [134, "Vaporeon"],
  [135, "Jolteon"],
  [136, "Flareon"],
  [196, "Espeon"],
  [197, "Umbreon"],
  [470, "Leafeon"],
  [471, "Glaceon"],
  [700, "Sylveon"],
  [209, "Snubbull"],
  [210, "Granbull"],
  [128, "Tauros"],
  [241, "Miltank"],
  [283, "Surskit"],
  [284, "Masquerain"],
  [751, "Dewpider"],
  [752, "Araquanid"],
  [704, "Goomy"],
  [705, "Sliggoo"],
  [706, "Goodra"],
  [351, "Castform"],
  [227, "Skarmory"],
  [198, "Murkrow"],
  [430, "Honchkrow"],
  [200, "Misdreavus"],
  [429, "Mismagius"],
  [353, "Shuppet"],
  [354, "Banette"],
  [355, "Duskull"],
  [356, "Dusclops"],
  [477, "Dusknoir"],
  [769, "Sandygast"],
  [770, "Palossand"],
  [359, "Absol"],
  [361, "Snorunt"],
  [362, "Glalie"],
  [478, "Froslass"],
  [458, "Mantyke"],
  [226, "Mantine"],
  [104, "Cubone"],
  [105, "Marowak"],
  [115, "Kangaskhan"],
  [324, "Torkoal"],
  [636, "Larvesta"],
  [637, "Volcarona"],
  [123, "Scyther"],
  [212, "Scizor"],
  [228, "Houndour"],
  [229, "Houndoom"],
  [309, "Electrike"],
  [310, "Manectric"],
  [234, "Stantler"],
  [546, "Cottonee"],
  [547, "Whimsicott"],
  [548, "Petilil"],
  [549, "Lilligant"],
  [280, "Ralts"],
  [281, "Kirlia"],
  [282, "Gardevoir"],
  [475, "Gallade"],
  [328, "Trapinch"],
  [329, "Vibrava"],
  [330, "Flygon"],
  [341, "Corphish"],
  [342, "Crawdaunt"],
  [343, "Baltoy"],
  [344, "Claydol"],
  [408, "Cranidos"],
  [409, "Rampardos"],
  [410, "Shieldon"],
  [411, "Bastiodon"],
  [566, "Archen"],
  [567, "Archeops"],
  [564, "Tirtouga"],
  [565, "Carracosta"],
  [142, "Aerodactyl"],
  [299, "Nosepass"],
  [476, "Probopass"],
  [369, "Relicanth"],
  [374, "Beldum"],
  [375, "Metang"],
  [376, "Metagross"],
  [246, "Larvitar"],
  [247, "Pupitar"],
  [248, "Tyranitar"],
  [765, "Oranguru"],
  [766, "Passimian"],
  [771, "Pyukumuku"],
  [767, "Wimpod"],
  [768, "Golisopod"],
  [592, "Frillish"],
  [593, "Jellicent"],
  [100, "Voltorb"],
  [101, "Electrode"],
  [74, "Geodude"],
  [75, "Graveler"],
  [76, "Golem"],
  [551, "Sandile"],
  [552, "Krokorok"],
  [553, "Krookodile"],
  [582, "Vanillite"],
  [583, "Vanillish"],
  [584, "Vanilluxe"],
  [572, "Minccino"],
  [573, "Cinccino"],
  [352, "Kecleon"],
  [702, "Dedenne"],
  [777, "Togedemaru"],
  [175, "Togepi"],
  [176, "Togetic"],
  [468, "Togekiss"],
  [774, "Minior"],
  [776, "Turtonator"],
  [780, "Drampa"],
  [778, "Mimikyu"],
  [779, "Bruxish"],
  [775, "Komala"],
  [782, "Jangmo-o"],
  [783, "Hakamo-o"],
  [784, "Kommo-o"],
  [357, "Tropius"],
  [781, "Dhelmise"],
  [133, "Eevee"],
  [785, "TapuKoko"],
  [786, "TapuLele"],
  [787, "TapuBulu"],
  [788, "TapuFini"],
  [789, "Cosmog"],
  [790, "Cosmoem"],
  [791, "Solgaleo"],
  [792, "Lunala"],
  [793, "Nihilego"],
  [794, "Buzzwole"],
  [795, "Pheromosa"],
  [796, "Xurkitree"],
  [797, "Celesteela"],
  [798, "Kartana"],
  [799, "Guzzlord"],
  [800, "Necrozma"],
  [801, "Magearna"],
  [802, "Marshadow"],
  [803, "Poipole"],
  [804, "Naganadel"],
  [805, "Stakataka"],
  [806, "Blacephalon"],
  [807, "Zeraora"],
];

const USUM_EXCLUSIVES = {
  ultra_sun: new Set([
    27,
    28, // Sandshrew, Sandslash (Alolan)
    408,
    409, // Cranidos, Rampardos
    564,
    565, // Tirtouga, Carracosta
    627,
    628, // Rufflet, Braviary
    546,
    547, // Cottonee, Whimsicott
    766, // Passimian
    776, // Turtonator
    228,
    229, // Houndour, Houndoom
    127, // Pinsir
    246,
    247,
    248, // Larvitar line
    371,
    372,
    373, // Bagon line
    791, // Solgaleo
    794, // Buzzwole
    798, // Kartana
    806, // Blacephalon
  ]),
  ultra_moon: new Set([
    37,
    38, // Vulpix, Ninetales (Alolan)
    410,
    411, // Shieldon, Bastiodon
    566,
    567, // Archen, Archeops
    629,
    630, // Vullaby, Mandibuzz
    548,
    549, // Petilil, Lilligant
    765, // Oranguru
    780, // Drampa
    309,
    310, // Electrike, Manectric
    214, // Heracross
    443,
    444,
    445, // Gible line
    234, // Stantler
    792, // Lunala
    795, // Pheromosa
    797, // Celesteela
    805, // Stakataka
  ]),
};

// ============================================================
// SM ã‚¢ãƒ­ãƒ¼ãƒ©å›³é‘‘ (302åŒ¹ - USUMã‚ˆã‚Šå°‘ãªã„ã€UBè¿½åŠ ãªã—)
// ============================================================
const SM_POKEMON = [
  [722, "Rowlet"],
  [723, "Dartrix"],
  [724, "Decidueye"],
  [725, "Litten"],
  [726, "Torracat"],
  [727, "Incineroar"],
  [728, "Popplio"],
  [729, "Brionne"],
  [730, "Primarina"],
  [731, "Pikipek"],
  [732, "Trumbeak"],
  [733, "Toucannon"],
  [734, "Yungoos"],
  [735, "Gumshoos"],
  [19, "Rattata"],
  [20, "Raticate"],
  [10, "Caterpie"],
  [11, "Metapod"],
  [12, "Butterfree"],
  [165, "Ledyba"],
  [166, "Ledian"],
  [167, "Spinarak"],
  [168, "Ariados"],
  [25, "Pichu"],
  [26, "Pikachu"],
  [172, "Raichu"],
  [736, "Grubbin"],
  [737, "Charjabug"],
  [738, "Vikavolt"],
  [438, "Bonsly"],
  [185, "Sudowoodo"],
  [440, "Happiny"],
  [113, "Chansey"],
  [242, "Blissey"],
  [446, "Munchlax"],
  [143, "Snorlax"],
  [79, "Slowpoke"],
  [80, "Slowbro"],
  [199, "Slowking"],
  [278, "Wingull"],
  [279, "Pelipper"],
  [63, "Abra"],
  [64, "Kadabra"],
  [65, "Alakazam"],
  [52, "Meowth"],
  [53, "Persian"],
  [81, "Magnemite"],
  [82, "Magneton"],
  [462, "Magnezone"],
  [88, "Grimer"],
  [89, "Muk"],
  [58, "Growlithe"],
  [59, "Arcanine"],
  [54, "Psyduck"],
  [55, "Golduck"],
  [39, "Jigglypuff"],
  [40, "Wigglytuff"],
  [174, "Igglybuff"],
  [66, "Machop"],
  [67, "Machoke"],
  [68, "Machamp"],
  [524, "Roggenrola"],
  [525, "Boldore"],
  [526, "Gigalith"],
  [703, "Carbink"],
  [302, "Sableye"],
  [744, "Rockruff"],
  [745, "Lycanroc"],
  [327, "Spinda"],
  [72, "Tentacool"],
  [73, "Tentacruel"],
  [456, "Finneon"],
  [457, "Lumineon"],
  [86, "Seel"],
  [87, "Dewgong"],
  [41, "Zubat"],
  [42, "Golbat"],
  [169, "Crobat"],
  [21, "Spearow"],
  [22, "Fearow"],
  [627, "Rufflet"],
  [628, "Braviary"],
  [629, "Vullaby"],
  [630, "Mandibuzz"],
  [56, "Mankey"],
  [57, "Primeape"],
  [225, "Delibird"],
  [215, "Sneasel"],
  [461, "Weavile"],
  [50, "Diglett"],
  [51, "Dugtrio"],
  [749, "Mudbray"],
  [750, "Mudsdale"],
  [35, "Clefairy"],
  [36, "Clefable"],
  [173, "Cleffa"],
  [239, "Elekid"],
  [125, "Electabuzz"],
  [466, "Electivire"],
  [240, "Magby"],
  [126, "Magmar"],
  [467, "Magmortar"],
  [147, "Dratini"],
  [148, "Dragonair"],
  [149, "Dragonite"],
  [137, "Porygon"],
  [233, "Porygon2"],
  [474, "PorygonZ"],
  [27, "Sandshrew"],
  [28, "Sandslash"],
  [37, "Vulpix"],
  [38, "Ninetales"],
  [60, "Poliwag"],
  [61, "Poliwhirl"],
  [62, "Poliwrath"],
  [186, "Politoed"],
  [118, "Goldeen"],
  [119, "Seaking"],
  [349, "Feebas"],
  [350, "Milotic"],
  [222, "Corsola"],
  [120, "Staryu"],
  [121, "Starmie"],
  [170, "Chinchou"],
  [171, "Lanturn"],
  [746, "Wishiwashi"],
  [747, "Mareanie"],
  [748, "Toxapex"],
  [339, "Barboach"],
  [340, "Whiscash"],
  [318, "Carvanha"],
  [319, "Sharpedo"],
  [320, "Wailmer"],
  [321, "Wailord"],
  [131, "Lapras"],
  [102, "Exeggcute"],
  [103, "Exeggutor"],
  [753, "Fomantis"],
  [754, "Lurantis"],
  [755, "Morelull"],
  [756, "Shiinotic"],
  [46, "Paras"],
  [47, "Parasect"],
  [296, "Makuhita"],
  [297, "Hariyama"],
  [739, "Crabrawler"],
  [740, "Crabominable"],
  [759, "Stufful"],
  [760, "Bewear"],
  [761, "Bounsweet"],
  [762, "Steenee"],
  [763, "Tsareena"],
  [764, "Comfey"],
  [127, "Pinsir"],
  [214, "Heracross"],
  [132, "Ditto"],
  [133, "Eevee"],
  [134, "Vaporeon"],
  [135, "Jolteon"],
  [136, "Flareon"],
  [196, "Espeon"],
  [197, "Umbreon"],
  [470, "Leafeon"],
  [471, "Glaceon"],
  [700, "Sylveon"],
  [209, "Snubbull"],
  [210, "Granbull"],
  [128, "Tauros"],
  [241, "Miltank"],
  [283, "Surskit"],
  [284, "Masquerain"],
  [751, "Dewpider"],
  [752, "Araquanid"],
  [704, "Goomy"],
  [705, "Sliggoo"],
  [706, "Goodra"],
  [351, "Castform"],
  [227, "Skarmory"],
  [198, "Murkrow"],
  [430, "Honchkrow"],
  [200, "Misdreavus"],
  [429, "Mismagius"],
  [353, "Shuppet"],
  [354, "Banette"],
  [355, "Duskull"],
  [356, "Dusclops"],
  [477, "Dusknoir"],
  [769, "Sandygast"],
  [770, "Palossand"],
  [359, "Absol"],
  [361, "Snorunt"],
  [362, "Glalie"],
  [478, "Froslass"],
  [458, "Mantyke"],
  [226, "Mantine"],
  [104, "Cubone"],
  [105, "Marowak"],
  [115, "Kangaskhan"],
  [324, "Torkoal"],
  [636, "Larvesta"],
  [637, "Volcarona"],
  [123, "Scyther"],
  [212, "Scizor"],
  [546, "Cottonee"],
  [547, "Whimsicott"],
  [548, "Petilil"],
  [549, "Lilligant"],
  [280, "Ralts"],
  [281, "Kirlia"],
  [282, "Gardevoir"],
  [475, "Gallade"],
  [328, "Trapinch"],
  [329, "Vibrava"],
  [330, "Flygon"],
  [341, "Corphish"],
  [342, "Crawdaunt"],
  [343, "Baltoy"],
  [344, "Claydol"],
  [408, "Cranidos"],
  [409, "Rampardos"],
  [410, "Shieldon"],
  [411, "Bastiodon"],
  [566, "Archen"],
  [567, "Archeops"],
  [564, "Tirtouga"],
  [565, "Carracosta"],
  [142, "Aerodactyl"],
  [299, "Nosepass"],
  [476, "Probopass"],
  [369, "Relicanth"],
  [374, "Beldum"],
  [375, "Metang"],
  [376, "Metagross"],
  [246, "Larvitar"],
  [247, "Pupitar"],
  [248, "Tyranitar"],
  [765, "Oranguru"],
  [766, "Passimian"],
  [771, "Pyukumuku"],
  [767, "Wimpod"],
  [768, "Golisopod"],
  [592, "Frillish"],
  [593, "Jellicent"],
  [100, "Voltorb"],
  [101, "Electrode"],
  [74, "Geodude"],
  [75, "Graveler"],
  [76, "Golem"],
  [551, "Sandile"],
  [552, "Krokorok"],
  [553, "Krookodile"],
  [582, "Vanillite"],
  [583, "Vanillish"],
  [584, "Vanilluxe"],
  [572, "Minccino"],
  [573, "Cinccino"],
  [352, "Kecleon"],
  [702, "Dedenne"],
  [777, "Togedemaru"],
  [175, "Togepi"],
  [176, "Togetic"],
  [468, "Togekiss"],
  [774, "Minior"],
  [776, "Turtonator"],
  [780, "Drampa"],
  [778, "Mimikyu"],
  [779, "Bruxish"],
  [775, "Komala"],
  [782, "Jangmo-o"],
  [783, "Hakamo-o"],
  [784, "Kommo-o"],
  [357, "Tropius"],
  [781, "Dhelmise"],
  [785, "TapuKoko"],
  [786, "TapuLele"],
  [787, "TapuBulu"],
  [788, "TapuFini"],
  [789, "Cosmog"],
  [790, "Cosmoem"],
  [791, "Solgaleo"],
  [792, "Lunala"],
  [793, "Nihilego"],
  [794, "Buzzwole"],
  [795, "Pheromosa"],
  [796, "Xurkitree"],
  [797, "Celesteela"],
  [798, "Kartana"],
  [799, "Guzzlord"],
  [800, "Necrozma"],
  [801, "Magearna"],
  [802, "Marshadow"],
];

const SM_EXCLUSIVES = {
  sun: new Set([
    27,
    28, // Sandshrew, Sandslash (Alolan)
    408,
    409, // Cranidos, Rampardos
    564,
    565, // Tirtouga, Carracosta
    627,
    628, // Rufflet, Braviary
    546,
    547, // Cottonee, Whimsicott
    766, // Passimian
    776, // Turtonator
    127, // Pinsir
    246,
    247,
    248, // Larvitar line
    791, // Solgaleo
    794, // Buzzwole
    798, // Kartana
  ]),
  moon: new Set([
    37,
    38, // Vulpix, Ninetales (Alolan)
    410,
    411, // Shieldon, Bastiodon
    566,
    567, // Archen, Archeops
    629,
    630, // Vullaby, Mandibuzz
    548,
    549, // Petilil, Lilligant
    765, // Oranguru
    780, // Drampa
    214, // Heracross
    792, // Lunala
    795, // Pheromosa
    797, // Celesteela
  ]),
};

// ============================================================
// ORAS ãƒ›ã‚¦ã‚¨ãƒ³å›³é‘‘ (211åŒ¹)
// ============================================================
const ORAS_POKEMON = [
  [252, "Treecko"],
  [253, "Grovyle"],
  [254, "Sceptile"],
  [255, "Torchic"],
  [256, "Combusken"],
  [257, "Blaziken"],
  [258, "Mudkip"],
  [259, "Marshtomp"],
  [260, "Swampert"],
  [261, "Poochyena"],
  [262, "Mightyena"],
  [263, "Zigzagoon"],
  [264, "Linoone"],
  [265, "Wurmple"],
  [266, "Silcoon"],
  [267, "Beautifly"],
  [268, "Cascoon"],
  [269, "Dustox"],
  [270, "Lotad"],
  [271, "Lombre"],
  [272, "Ludicolo"],
  [273, "Seedot"],
  [274, "Nuzleaf"],
  [275, "Shiftry"],
  [276, "Taillow"],
  [277, "Swellow"],
  [278, "Wingull"],
  [279, "Pelipper"],
  [280, "Ralts"],
  [281, "Kirlia"],
  [282, "Gardevoir"],
  [475, "Gallade"],
  [283, "Surskit"],
  [284, "Masquerain"],
  [285, "Shroomish"],
  [286, "Breloom"],
  [287, "Slakoth"],
  [288, "Vigoroth"],
  [289, "Slaking"],
  [290, "Nincada"],
  [291, "Ninjask"],
  [292, "Shedinja"],
  [293, "Whismur"],
  [294, "Loudred"],
  [295, "Exploud"],
  [296, "Makuhita"],
  [297, "Hariyama"],
  [298, "Azurill"],
  [183, "Marill"],
  [184, "Azumarill"],
  [299, "Nosepass"],
  [476, "Probopass"],
  [300, "Skitty"],
  [301, "Delcatty"],
  [302, "Sableye"],
  [303, "Mawile"],
  [304, "Aron"],
  [305, "Lairon"],
  [306, "Aggron"],
  [307, "Meditite"],
  [308, "Medicham"],
  [309, "Electrike"],
  [310, "Manectric"],
  [311, "Plusle"],
  [312, "Minun"],
  [313, "Volbeat"],
  [314, "Illumise"],
  [315, "Roselia"],
  [406, "Budew"],
  [407, "Roserade"],
  [316, "Gulpin"],
  [317, "Swalot"],
  [318, "Carvanha"],
  [319, "Sharpedo"],
  [320, "Wailmer"],
  [321, "Wailord"],
  [322, "Numel"],
  [323, "Camerupt"],
  [324, "Torkoal"],
  [325, "Spoink"],
  [326, "Grumpig"],
  [327, "Spinda"],
  [328, "Trapinch"],
  [329, "Vibrava"],
  [330, "Flygon"],
  [331, "Cacnea"],
  [332, "Cacturne"],
  [333, "Swablu"],
  [334, "Altaria"],
  [335, "Zangoose"],
  [336, "Seviper"],
  [337, "Lunatone"],
  [338, "Solrock"],
  [339, "Barboach"],
  [340, "Whiscash"],
  [341, "Corphish"],
  [342, "Crawdaunt"],
  [343, "Baltoy"],
  [344, "Claydol"],
  [345, "Lileep"],
  [346, "Cradily"],
  [347, "Anorith"],
  [348, "Armaldo"],
  [349, "Feebas"],
  [350, "Milotic"],
  [351, "Castform"],
  [352, "Kecleon"],
  [353, "Shuppet"],
  [354, "Banette"],
  [355, "Duskull"],
  [356, "Dusclops"],
  [477, "Dusknoir"],
  [357, "Tropius"],
  [358, "Chimecho"],
  [433, "Chingling"],
  [359, "Absol"],
  [360, "Wynaut"],
  [202, "Wobbuffet"],
  [361, "Snorunt"],
  [362, "Glalie"],
  [478, "Froslass"],
  [363, "Spheal"],
  [364, "Sealeo"],
  [365, "Walrein"],
  [366, "Clamperl"],
  [367, "Huntail"],
  [368, "Gorebyss"],
  [369, "Relicanth"],
  [370, "Luvdisc"],
  [371, "Bagon"],
  [372, "Shelgon"],
  [373, "Salamence"],
  [374, "Beldum"],
  [375, "Metang"],
  [376, "Metagross"],
  [377, "Regirock"],
  [378, "Regice"],
  [379, "Registeel"],
  [380, "Latias"],
  [381, "Latios"],
  [382, "Kyogre"],
  [383, "Groudon"],
  [384, "Rayquaza"],
  [385, "Jirachi"],
  [386, "Deoxys"],
  // Soaring legendaries (post-game)
  [249, "Lugia"],
  [250, "Ho-Oh"],
  [483, "Dialga"],
  [484, "Palkia"],
  [641, "Tornadus"],
  [642, "Thundurus"],
  [643, "Reshiram"],
  [644, "Zekrom"],
  [645, "Landorus"],
  [646, "Kyurem"],
  // DexNav / area Pokemon
  [63, "Abra"],
  [64, "Kadabra"],
  [65, "Alakazam"],
  [66, "Machop"],
  [67, "Machoke"],
  [68, "Machamp"],
  [72, "Tentacool"],
  [73, "Tentacruel"],
  [74, "Geodude"],
  [75, "Graveler"],
  [76, "Golem"],
  [118, "Goldeen"],
  [119, "Seaking"],
  [129, "Magikarp"],
  [130, "Gyarados"],
  [41, "Zubat"],
  [42, "Golbat"],
  [169, "Crobat"],
];

const ORAS_EXCLUSIVES = {
  omega_ruby: new Set([
    273,
    274,
    275, // Seedot line
    303, // Mawile
    335, // Zangoose
    338, // Solrock
    383, // Groudon
    381, // Latios (storyline)
    250, // Ho-Oh (soaring)
    484, // Palkia (soaring)
    643, // Reshiram (soaring)
    641, // Tornadus (soaring)
  ]),
  alpha_sapphire: new Set([
    270,
    271,
    272, // Lotad line
    302, // Sableye
    336, // Seviper
    337, // Lunatone
    382, // Kyogre
    380, // Latias (storyline)
    249, // Lugia (soaring)
    483, // Dialga (soaring)
    644, // Zekrom (soaring)
    642, // Thundurus (soaring)
  ]),
};

// ============================================================
// XY ã‚«ãƒ­ã‚¹å›³é‘‘
// ============================================================
const XY_POKEMON = [
  // Starters
  [650, "Chespin"],
  [651, "Quilladin"],
  [652, "Chesnaught"],
  [653, "Fennekin"],
  [654, "Braixen"],
  [655, "Delphox"],
  [656, "Froakie"],
  [657, "Frogadier"],
  [658, "Greninja"],
  // Central Kalos
  [659, "Bunnelby"],
  [660, "Diggersby"],
  [661, "Fletchling"],
  [662, "Fletchinder"],
  [663, "Talonflame"],
  [664, "Scatterbug"],
  [665, "Spewpa"],
  [666, "Vivillon"],
  [10, "Caterpie"],
  [11, "Metapod"],
  [12, "Butterfree"],
  [13, "Weedle"],
  [14, "Kakuna"],
  [15, "Beedrill"],
  [16, "Pidgey"],
  [17, "Pidgeotto"],
  [18, "Pidgeot"],
  [25, "Pikachu"],
  [26, "Raichu"],
  [172, "Pichu"],
  [298, "Azurill"],
  [183, "Marill"],
  [184, "Azumarill"],
  [41, "Zubat"],
  [42, "Golbat"],
  [169, "Crobat"],
  [174, "Igglybuff"],
  [39, "Jigglypuff"],
  [40, "Wigglytuff"],
  [283, "Surskit"],
  [284, "Masquerain"],
  [412, "Burmy"],
  [413, "Wormadam"],
  [414, "Mothim"],
  [667, "Litleo"],
  [668, "Pyroar"],
  [669, "Flabebe"],
  [670, "Floette"],
  [671, "Florges"],
  [300, "Skitty"],
  [301, "Delcatty"],
  [63, "Abra"],
  [64, "Kadabra"],
  [65, "Alakazam"],
  [280, "Ralts"],
  [281, "Kirlia"],
  [282, "Gardevoir"],
  [475, "Gallade"],
  [406, "Budew"],
  [315, "Roselia"],
  [407, "Roserade"],
  [672, "Skiddo"],
  [673, "Gogoat"],
  [674, "Pancham"],
  [675, "Pangoro"],
  [559, "Scraggy"],
  [560, "Scrafty"],
  [335, "Zangoose"],
  [336, "Seviper"],
  [676, "Furfrou"],
  [309, "Electrike"],
  [310, "Manectric"],
  [228, "Houndour"],
  [229, "Houndoom"],
  [507, "Herdier"],
  [508, "Stoutland"],
  [434, "Stunky"],
  [435, "Skuntank"],
  [677, "Espurr"],
  [678, "Meowstic"],
  [69, "Bellsprout"],
  [70, "Weepinbell"],
  [71, "Victreebel"],
  [311, "Plusle"],
  [312, "Minun"],
  // Coastal Kalos
  [349, "Feebas"],
  [350, "Milotic"],
  [129, "Magikarp"],
  [130, "Gyarados"],
  [118, "Goldeen"],
  [119, "Seaking"],
  [341, "Corphish"],
  [342, "Crawdaunt"],
  [690, "Skrelp"],
  [691, "Dragalge"],
  [692, "Clauncher"],
  [693, "Clawitzer"],
  [120, "Staryu"],
  [121, "Starmie"],
  [90, "Shellder"],
  [91, "Cloyster"],
  [679, "Honedge"],
  [680, "Doublade"],
  [681, "Aegislash"],
  [682, "Spritzee"],
  [683, "Aromatisse"],
  [684, "Swirlix"],
  [685, "Slurpuff"],
  [557, "Dwebble"],
  [558, "Crustle"],
  [74, "Geodude"],
  [75, "Graveler"],
  [76, "Golem"],
  [95, "Onix"],
  [208, "Steelix"],
  [111, "Rhyhorn"],
  [112, "Rhydon"],
  [464, "Rhyperior"],
  [132, "Ditto"],
  [133, "Eevee"],
  [134, "Vaporeon"],
  [135, "Jolteon"],
  [136, "Flareon"],
  [196, "Espeon"],
  [197, "Umbreon"],
  [470, "Leafeon"],
  [471, "Glaceon"],
  [700, "Sylveon"],
  [86, "Seel"],
  [87, "Dewgong"],
  [225, "Delibird"],
  [131, "Lapras"],
  [143, "Snorlax"],
  [446, "Munchlax"],
  [304, "Aron"],
  [305, "Lairon"],
  [306, "Aggron"],
  [261, "Poochyena"],
  [262, "Mightyena"],
  [509, "Purrloin"],
  [510, "Liepard"],
  [127, "Pinsir"],
  [214, "Heracross"],
  [538, "Throh"],
  [539, "Sawk"],
  [686, "Inkay"],
  [687, "Malamar"],
  [688, "Binacle"],
  [689, "Barbaracle"],
  [694, "Helioptile"],
  [695, "Heliolisk"],
  [696, "Tyrunt"],
  [697, "Tyrantrum"],
  [698, "Amaura"],
  [699, "Aurorus"],
  // Mountain Kalos
  [246, "Larvitar"],
  [247, "Pupitar"],
  [248, "Tyranitar"],
  [371, "Bagon"],
  [372, "Shelgon"],
  [373, "Salamence"],
  [443, "Gible"],
  [444, "Gabite"],
  [445, "Garchomp"],
  [704, "Goomy"],
  [705, "Sliggoo"],
  [706, "Goodra"],
  [701, "Hawlucha"],
  [707, "Klefki"],
  [708, "Phantump"],
  [709, "Trevenant"],
  [710, "Pumpkaboo"],
  [711, "Gourgeist"],
  [712, "Bergmite"],
  [713, "Avalugg"],
  [714, "Noibat"],
  [715, "Noivern"],
  [353, "Shuppet"],
  [354, "Banette"],
  [355, "Duskull"],
  [356, "Dusclops"],
  [477, "Dusknoir"],
  [302, "Sableye"],
  [303, "Mawile"],
  [359, "Absol"],
  [361, "Snorunt"],
  [362, "Glalie"],
  [478, "Froslass"],
  [582, "Vanillite"],
  [583, "Vanillish"],
  [584, "Vanilluxe"],
  [572, "Minccino"],
  [573, "Cinccino"],
  [551, "Sandile"],
  [552, "Krokorok"],
  [553, "Krookodile"],
  [328, "Trapinch"],
  [329, "Vibrava"],
  [330, "Flygon"],
  [610, "Axew"],
  [611, "Fraxure"],
  [612, "Haxorus"],
  // Legendaries
  [716, "Xerneas"],
  [717, "Yveltal"],
  [718, "Zygarde"],
  [150, "Mewtwo"],
  [144, "Articuno"],
  [145, "Zapdos"],
  [146, "Moltres"],
];

const XY_EXCLUSIVES = {
  x: new Set([
    684,
    685, // Swirlix, Slurpuff
    692,
    693, // Clauncher, Clawitzer
    120,
    121, // Staryu, Starmie
    127, // Pinsir
    228,
    229, // Houndour, Houndoom
    261,
    262, // Poochyena, Mightyena
    304,
    305,
    306, // Aron line
    539, // Sawk
    716, // Xerneas
  ]),
  y: new Set([
    682,
    683, // Spritzee, Aromatisse
    690,
    691, // Skrelp, Dragalge
    90,
    91, // Shellder, Cloyster
    214, // Heracross
    309,
    310, // Electrike, Manectric
    509,
    510, // Purrloin, Liepard
    246,
    247,
    248, // Larvitar line
    538, // Throh
    717, // Yveltal
  ]),
};

// ============================================================
// ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯
// ============================================================

function deduplicate(pokemonList) {
  const seen = new Set();
  return pokemonList.filter(([id]) => {
    if (seen.has(id)) return false;
    seen.add(id);
    return true;
  });
}

function generateGame({
  pokemonList,
  exclusives,
  regionId,
  versionGroupKey,
  versionGroupName,
  versionA,
  versionB,
}) {
  const deduped = deduplicate(pokemonList);

  const pokemon = deduped.map(([ndex, name]) => {
    let availability = "both";
    if (exclusives[versionA.value] && exclusives[versionA.value].has(ndex)) {
      availability = versionA.value;
    } else if (
      exclusives[versionB.value] &&
      exclusives[versionB.value].has(ndex)
    ) {
      availability = versionB.value;
    }

    return {
      id: String(ndex).padStart(3, "0"),
      name,
      regions: [regionId],
      caught: false,
      pokedex_numbers: { [regionId]: String(ndex) },
      version_info: {
        [versionGroupKey]: { availability },
      },
    };
  });

  pokemon.sort((a, b) => parseInt(a.id) - parseInt(b.id));

  const exclusiveACount = pokemon.filter(
    (p) => p.version_info[versionGroupKey].availability === versionA.value,
  ).length;
  const exclusiveBCount = pokemon.filter(
    (p) => p.version_info[versionGroupKey].availability === versionB.value,
  ).length;

  console.log(`  ${versionA.label}: ${exclusiveACount}åŒ¹`);
  console.log(`  ${versionB.label}: ${exclusiveBCount}åŒ¹`);
  console.log(
    `  ä¸¡æ–¹: ${pokemon.length - exclusiveACount - exclusiveBCount}åŒ¹`,
  );

  return {
    stats: {
      total: pokemon.length,
      duplicates: 0,
      regions: { [regionId]: { total: pokemon.length, only: pokemon.length } },
    },
    pokemon,
    version_filters: {
      [versionGroupKey]: {
        name: versionGroupName,
        options: [
          { value: "", label: "ğŸŒ å…¨ã¦è¡¨ç¤º" },
          { value: "both", label: "ğŸŸ¢ ä¸¡ãƒãƒ¼ã‚¸ãƒ§ãƒ³" },
          { value: versionA.value, label: versionA.label },
          { value: versionB.value, label: versionB.label },
        ],
      },
    },
  };
}

function writeOutput(filename, data) {
  const outPath = path.join(__dirname, "../public", filename);
  fs.writeFileSync(outPath, JSON.stringify(data, null, 2), "utf-8");
  // data/ã«ã‚‚ã‚³ãƒ”ãƒ¼
  const dataPath = path.join(__dirname, "../data", filename);
  fs.writeFileSync(dataPath, JSON.stringify(data, null, 2), "utf-8");
  console.log(`  ğŸ“ ${outPath} (${data.stats.total}åŒ¹)`);
}

// ============================================================
// ãƒ¡ã‚¤ãƒ³
// ============================================================
function main() {
  console.log("ğŸš€ å…¨ã‚²ãƒ¼ãƒ å›³é‘‘ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆé–‹å§‹...\n");

  // USUM
  console.log("ğŸŒº USUM (ã‚¦ãƒ«ãƒˆãƒ©ã‚µãƒ³ãƒ»ã‚¦ãƒ«ãƒˆãƒ©ãƒ ãƒ¼ãƒ³)");
  const usum = generateGame({
    pokemonList: USUM_POKEMON,
    exclusives: USUM_EXCLUSIVES,
    regionId: "alola",
    versionGroupKey: "ultra_sun_ultra_moon",
    versionGroupName: "ğŸŒ ã‚¦ãƒ«ãƒˆãƒ©ã‚µãƒ³ãƒ»ã‚¦ãƒ«ãƒˆãƒ©ãƒ ãƒ¼ãƒ³",
    versionA: { value: "ultra_sun", label: "ğŸŒ ã‚¦ãƒ«ãƒˆãƒ©ã‚µãƒ³é™å®š" },
    versionB: { value: "ultra_moon", label: "ğŸŒš ã‚¦ãƒ«ãƒˆãƒ©ãƒ ãƒ¼ãƒ³é™å®š" },
  });
  writeOutput("usum_zukan_data.json", usum);
  console.log();

  // SM
  console.log("â˜€ï¸ SM (ã‚µãƒ³ãƒ»ãƒ ãƒ¼ãƒ³)");
  const sm = generateGame({
    pokemonList: SM_POKEMON,
    exclusives: SM_EXCLUSIVES,
    regionId: "alola",
    versionGroupKey: "sun_moon",
    versionGroupName: "â˜€ï¸ ã‚µãƒ³ãƒ»ãƒ ãƒ¼ãƒ³",
    versionA: { value: "sun", label: "â˜€ï¸ ã‚µãƒ³é™å®š" },
    versionB: { value: "moon", label: "ğŸŒ™ ãƒ ãƒ¼ãƒ³é™å®š" },
  });
  writeOutput("sm_zukan_data.json", sm);
  console.log();

  // ORAS
  console.log("ğŸŒŠ ORAS (ã‚ªãƒ¡ã‚¬ãƒ«ãƒ“ãƒ¼ãƒ»ã‚¢ãƒ«ãƒ•ã‚¡ã‚µãƒ•ã‚¡ã‚¤ã‚¢)");
  const oras = generateGame({
    pokemonList: ORAS_POKEMON,
    exclusives: ORAS_EXCLUSIVES,
    regionId: "hoenn",
    versionGroupKey: "omega_ruby_alpha_sapphire",
    versionGroupName: "ğŸ”¥ ã‚ªãƒ¡ã‚¬ãƒ«ãƒ“ãƒ¼ãƒ»ã‚¢ãƒ«ãƒ•ã‚¡ã‚µãƒ•ã‚¡ã‚¤ã‚¢",
    versionA: { value: "omega_ruby", label: "ğŸ”¥ ã‚ªãƒ¡ã‚¬ãƒ«ãƒ“ãƒ¼é™å®š" },
    versionB: { value: "alpha_sapphire", label: "ğŸ’§ ã‚¢ãƒ«ãƒ•ã‚¡ã‚µãƒ•ã‚¡ã‚¤ã‚¢é™å®š" },
  });
  writeOutput("oras_zukan_data.json", oras);
  console.log();

  // XY
  console.log("ğŸ—¼ XY (Xãƒ»Y)");
  const xy = generateGame({
    pokemonList: XY_POKEMON,
    exclusives: XY_EXCLUSIVES,
    regionId: "kalos",
    versionGroupKey: "x_y",
    versionGroupName: "â Xãƒ»Y",
    versionA: { value: "x", label: "â Xé™å®š" },
    versionB: { value: "y", label: "ğŸŸ£ Yé™å®š" },
  });
  writeOutput("xy_zukan_data.json", xy);
  console.log();

  console.log("ğŸ‰ å…¨ã‚²ãƒ¼ãƒ å›³é‘‘ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆå®Œäº†!");
}

main();
