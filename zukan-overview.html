<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÆ „Éù„Ç±„É¢„É≥Âõ≥Èëë‰∏ÄË¶ß - ÂÖ®Âõ≥Èëë„Çø„ÉñË°®Á§∫</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { 
            font-family: 'Hiragino Kaku Gothic Pro', '„Éí„É©„ÇÆ„ÉéËßí„Ç¥ Pro W3', Meiryo, „É°„Ç§„É™„Ç™, Osaka, 'MS PGothic', arial, helvetica, sans-serif; 
        }
        
        /* „Ç´„Çπ„Çø„É†„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ */
        .fade-enter-active, .fade-leave-active {
            transition: opacity 0.3s ease;
        }
        .fade-enter-from, .fade-leave-to {
            opacity: 0;
        }

        /* „Çø„Éñ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ */
        .tab-content-enter-active, .tab-content-leave-active {
            transition: all 0.3s ease;
        }
        .tab-content-enter-from {
            opacity: 0;
            transform: translateX(20px);
        }
        .tab-content-leave-to {
            opacity: 0;
            transform: translateX(-20px);
        }

        /* „Ç´„Çπ„Çø„É†„Çπ„ÇØ„É≠„Éº„É´„Éê„Éº */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* „ÉÜ„Éº„Éñ„É´Ë°å„ÅÆ„Éõ„Éê„ÉºÂäπÊûú */
        .pokemon-row {
            transition: all 0.2s ease;
        }
        .pokemon-row:hover {
            background-color: #f8fafc;
            transform: translateX(2px);
        }

        /* „Çø„Éñ„Çπ„Çø„Ç§„É´ */
        .tab-button {
            transition: all 0.3s ease;
        }
        .tab-button.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        /* „Éà„ÉÉ„Éó„Å∏Êàª„Çã„Éú„Çø„É≥ */
        .scroll-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 50;
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
            cursor: pointer;
            transition: all 0.3s ease;
            transform: translateY(100px);
            opacity: 0;
        }
        .scroll-to-top.visible {
            transform: translateY(0);
            opacity: 1;
        }
        .scroll-to-top:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(102, 126, 234, 0.6);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 min-h-screen">
    <div id="app" class="container mx-auto px-4 py-6">
        <!-- „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éò„ÉÉ„ÉÄ„Éº -->
        <div class="bg-white rounded-2xl shadow-lg p-4 mb-6">
            <div class="flex justify-between items-center">
                <div class="flex space-x-4">
                    <a href="zukan-overview.html" class="bg-purple-600 text-white px-4 py-2 rounded-lg font-bold text-sm">
                        üìã Âõ≥Èëë‰∏ÄË¶ßË°®Á§∫
                    </a>
                    <a href="index.html" class="bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded-lg font-bold text-sm transition-colors">
                        üéÆ Ë©≥Á¥∞„Éï„Ç£„É´„Çø„Éº
                    </a>
                </div>
                <div class="text-sm text-gray-500">
                    üéØ „Éù„Ç±„É¢„É≥Âõ≥Èëë„Éû„Çπ„Çø„Éº
                </div>
            </div>
        </div>

        <!-- „Éò„ÉÉ„ÉÄ„Éº -->
        <div class="text-center mb-6">
            <h1 class="text-4xl md:text-5xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent mb-2">
                üìã „Éù„Ç±„É¢„É≥Âõ≥Èëë‰∏ÄË¶ß
            </h1>
            <p class="text-lg text-gray-600">ÂÖ®Âõ≥Èëë„Çø„ÉñË°®Á§∫ - ÂÇôËÄÉÊ¨Ñ„ÅßÈáçË§áÁ¢∫Ë™ç</p>
        </div>

        <!-- „Ç≤„Éº„É†ÈÅ∏Êäû„Çª„ÇØ„Ç∑„Éß„É≥ -->
        <transition name="slide-down">
            <div v-if="!selectedGame && !loading" class="mb-8">
                <h2 class="text-2xl font-bold text-center mb-6 text-gray-800">
                    üéØ Âõ≥Èëë„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ
                </h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <div v-for="game in availableGames" :key="game.id"
                         @click="selectGame(game.id)"
                         class="game-card bg-white rounded-xl shadow-lg p-6 text-center cursor-pointer hover:shadow-xl transition-all">
                        <div class="text-3xl mb-3">{{ getGameIcon(game.id) }}</div>
                        <h3 class="text-lg font-bold text-gray-800 mb-2">{{ game.name }}</h3>
                        <p class="text-gray-600 text-sm mb-3">{{ game.displayName }}</p>
                        <div class="text-sm text-gray-500">
                            {{ game.stats?.total || '?' }}Âåπ„ÅÆ„Éù„Ç±„É¢„É≥
                        </div>
                    </div>
                </div>
            </div>
        </transition>

        <!-- „É≠„Éº„Éá„Ç£„É≥„Ç∞Ë°®Á§∫ -->
        <div v-if="loading" class="text-center py-12">
            <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"></div>
            <p class="text-gray-600 mt-4">Âõ≥Èëë„Éá„Éº„Çø„ÇíË™≠„ÅøËæº„Åø‰∏≠...</p>
        </div>

        <!-- „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ -->
        <div v-else-if="selectedGame">
            <!-- „Ç≤„Éº„É†ÊÉÖÂ†±„Å®„Éù„Ç±„É¢„É≥Á∑èÊï∞ -->
            <div class="bg-white rounded-lg shadow-sm p-3 mb-4">
                <div class="flex justify-between items-center">
                    <div class="flex items-center">
                        <button @click="backToGameSelection" 
                                class="bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded text-xs transition-colors">
                            ‚Üê Êàª„Çã
                        </button>
                        <span class="ml-3 text-lg font-bold text-purple-600">
                            {{ selectedGame.name }} Á∑èÊï∞{{ zukanData.stats?.total || 0 }}Âåπ
                        </span>
                    </div>
                </div>
            </div>

            <!-- „Çø„Éñ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥ -->
            <div class="bg-white rounded-lg shadow-sm p-3 mb-6">
                <div class="flex gap-1 md:gap-2">
                    <button v-for="region in selectedGame.regions" :key="region.id"
                            @click="activeTab = region.id"
                            :class="[
                                'tab-button flex-1 px-2 py-2 md:px-6 md:py-3 rounded-lg font-medium text-xs md:text-sm transition-all',
                                activeTab === region.id 
                                    ? 'active' 
                                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                            ]">
                        <div class="flex flex-col md:flex-row md:items-center">
                            <span class="text-sm md:text-base">{{ getRegionIcon(region.id) }}</span>
                            <span class="text-xs md:text-sm md:ml-1">{{ region.name.replace('Âõ≥Èëë', '') }}</span>
                            <span class="text-xs opacity-75 md:ml-2">
                                ({{ getRegionPokemonCount(region.id) }})
                            </span>
                        </div>
                    </button>
                </div>
            </div>

            <!-- Ê§úÁ¥¢„Éï„Ç£„É´„Çø„Éº -->
            <div class="bg-white rounded-lg shadow-sm p-4 mb-6">
                <div class="flex flex-col md:flex-row gap-4">
                    <div class="flex-1">
                        <input v-model="searchQuery" type="text" placeholder="üîç „Éù„Ç±„É¢„É≥Âêç„ÅßÊ§úÁ¥¢..." 
                               class="w-full border border-gray-300 rounded-lg px-4 py-2 text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                    </div>
                    <div class="flex gap-2">
                        <button @click="toggleDuplicateFilter('only')"
                                :class="[
                                    'px-3 py-2 rounded-lg text-xs font-medium transition-colors',
                                    showDuplicateOnly 
                                        ? 'bg-yellow-500 text-white' 
                                        : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                                ]">
                            üîÑ ÈáçË§á„ÅÆ„Åø
                        </button>
                        <button @click="toggleDuplicateFilter('hide')"
                                :class="[
                                    'px-3 py-2 rounded-lg text-xs font-medium transition-colors',
                                    hideDuplicates 
                                        ? 'bg-purple-500 text-white' 
                                        : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                                ]">
                            üö´ ÈáçË§áÈô§Â§ñ
                        </button>
                        <button @click="resetFilters" 
                                class="px-3 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-xs font-medium transition-colors">
                            üîÑ „É™„Çª„ÉÉ„Éà
                        </button>
                    </div>
                </div>
                
                <!-- Ê§úÁ¥¢ÁµêÊûú„Çµ„Éû„É™„Éº -->
                <div v-if="filteredPokemon.length !== currentTabPokemon.length" class="mt-3 text-sm text-gray-600">
                    {{ filteredPokemon.length }}Âåπ / {{ currentTabPokemon.length }}Âåπ„ÇíË°®Á§∫‰∏≠
                    <span v-if="showDuplicateOnly" class="text-yellow-600">ÔºàÈáçË§á„Éù„Ç±„É¢„É≥„ÅÆ„ÅøÔºâ</span>
                    <span v-if="hideDuplicates" class="text-purple-600">ÔºàÈáçË§á„Éù„Ç±„É¢„É≥Èô§Â§ñÔºâ</span>
                </div>
            </div>

            <!-- „Éù„Ç±„É¢„É≥‰∏ÄË¶ßÔºà„É¢„Éê„Ç§„É´Ôºö„ÉÜ„Éº„Éñ„É´„ÄÅ„Éá„Çπ„ÇØ„Éà„ÉÉ„ÉóÔºö2Âàó„Ç∞„É™„ÉÉ„ÉâÔºâ -->
            <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                <!-- „É¢„Éê„Ç§„É´Ë°®Á§∫Ôºö„ÉÜ„Éº„Éñ„É´ÂΩ¢Âºè -->
                <div class="block md:hidden">
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-gradient-to-r from-purple-50 to-blue-50">
                                <tr>
                                    <th class="px-3 py-2 text-left text-xs font-bold text-gray-700">Âõ≥ÈëëÁï™Âè∑</th>
                                    <th class="px-3 py-2 text-left text-xs font-bold text-gray-700">„Éù„Ç±„É¢„É≥Âêç</th>
                                    <th class="px-3 py-2 text-left text-xs font-bold text-gray-700">ÂÇôËÄÉ</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="pokemon in filteredPokemon" :key="pokemon.id + activeTab + 'mobile'"
                                    class="pokemon-row border-b border-gray-100">
                                        <td class="px-3 py-2">
                                            <span class="font-mono text-sm font-bold text-purple-600">
                                                #{{ pokemon.pokedex_numbers[activeTab] }}
                                            </span>
                                        </td>
                                        <td class="px-3 py-2">
                                            <div class="font-medium text-gray-900 text-sm">{{ pokemon.name }}</div>
                                        </td>
                                        <td class="px-3 py-2">
                                            <div class="flex flex-wrap gap-1">
                                                <!-- „Éê„Éº„Ç∏„Éß„É≥ÈôêÂÆöË°®Á§∫ -->
                                                <div v-if="getVersionInfo(pokemon)" class="relative group">
                                                    <span :class="[
                                                              'text-xs px-1 py-0.5 rounded font-medium cursor-help',
                                                              getVersionInfo(pokemon).color || 'bg-gray-100 text-gray-800'
                                                          ]">
                                                        {{ getVersionInfo(pokemon).display }}
                                                    </span>
                                                    <!-- „ÉÑ„Éº„É´„ÉÅ„ÉÉ„Éó -->
                                                    <div v-if="getAlternativeSources(pokemon).length > 0" 
                                                         class="absolute left-0 top-full mt-1 bg-gray-800 text-white text-xs rounded p-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-10 whitespace-nowrap">
                                                        <div class="font-medium mb-1">‰ªñ„ÇΩ„Éï„Éà„Åß„ÇÇÂÖ•ÊâãÂèØËÉΩ:</div>
                                                        <div v-for="alt in getAlternativeSources(pokemon)" :key="alt.seriesId" class="flex items-center gap-1">
                                                            <span>{{ alt.icon }}</span>
                                                            <span>{{ alt.name }}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- ‰ªñ„ÅÆÂõ≥Èëë„ÅÆË°®Á§∫ -->
                                                <span v-for="region in pokemon.regions" :key="region"
                                                      v-if="region !== activeTab"
                                                      :class="[
                                                          'text-xs px-1 py-0.5 rounded font-medium',
                                                          getRegionBadgeClass(region)
                                                      ]">
                                                    {{ getRegionName(region) }}#{{ pokemon.pokedex_numbers[region] }}
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- „Éá„Çπ„ÇØ„Éà„ÉÉ„ÉóË°®Á§∫Ôºö2Âàó„Ç∞„É™„ÉÉ„Éâ -->
                <div class="hidden md:block">
                    <div class="p-6">
                        <div class="grid grid-cols-2 gap-8">
                            <!-- Â∑¶Âàó -->
                            <div class="space-y-3">
                                <div v-for="(pokemon, index) in leftColumnPokemon" :key="pokemon.id + activeTab + 'left'"
                                     class="pokemon-row border-b border-gray-100 pb-3">
                                        <div class="flex items-start gap-3">
                                            <span class="font-mono text-lg font-bold text-purple-600 flex-shrink-0">
                                                #{{ pokemon.pokedex_numbers[activeTab] }}
                                            </span>
                                            <div class="flex-1 min-w-0">
                                                <div class="font-medium text-gray-900 mb-1">{{ pokemon.name }}</div>
                                                <div class="flex flex-wrap gap-1">
                                                    <!-- „Éê„Éº„Ç∏„Éß„É≥ÈôêÂÆöË°®Á§∫ -->
                                                    <div v-if="getVersionInfo(pokemon)" class="relative group">
                                                        <span :class="[
                                                                  'text-xs px-2 py-1 rounded-full font-medium cursor-help',
                                                                  getVersionInfo(pokemon).color || 'bg-gray-100 text-gray-800'
                                                              ]">
                                                            {{ getVersionInfo(pokemon).display }}
                                                        </span>
                                                        <!-- „ÉÑ„Éº„É´„ÉÅ„ÉÉ„Éó -->
                                                        <div v-if="getAlternativeSources(pokemon).length > 0" 
                                                             class="absolute left-0 top-full mt-1 bg-gray-800 text-white text-xs rounded p-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-10 whitespace-nowrap">
                                                            <div class="font-medium mb-1">‰ªñ„ÇΩ„Éï„Éà„Åß„ÇÇÂÖ•ÊâãÂèØËÉΩ:</div>
                                                            <div v-for="alt in getAlternativeSources(pokemon)" :key="alt.seriesId" class="flex items-center gap-1">
                                                                <span>{{ alt.icon }}</span>
                                                                <span>{{ alt.name }}</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- ‰ªñ„ÅÆÂõ≥Èëë„ÅÆË°®Á§∫ -->
                                                    <span v-for="region in pokemon.regions" :key="region"
                                                          v-if="region !== activeTab"
                                                          :class="[
                                                              'text-xs px-2 py-1 rounded-full font-medium',
                                                              getRegionBadgeClass(region)
                                                          ]">
                                                        {{ getRegionName(region) }}Âõ≥Èëë #{{ pokemon.pokedex_numbers[region] }}
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                            </div>

                            <!-- Âè≥Âàó -->
                            <div class="space-y-3">
                                <div v-for="(pokemon, index) in rightColumnPokemon" :key="pokemon.id + activeTab + 'right'"
                                     class="pokemon-row border-b border-gray-100 pb-3">
                                        <div class="flex items-start gap-3">
                                            <span class="font-mono text-lg font-bold text-purple-600 flex-shrink-0">
                                                #{{ pokemon.pokedex_numbers[activeTab] }}
                                            </span>
                                            <div class="flex-1 min-w-0">
                                                <div class="font-medium text-gray-900 mb-1">{{ pokemon.name }}</div>
                                                <div class="flex flex-wrap gap-1">
                                                    <!-- „Éê„Éº„Ç∏„Éß„É≥ÈôêÂÆöË°®Á§∫ -->
                                                    <div v-if="getVersionInfo(pokemon)" class="relative group">
                                                        <span :class="[
                                                                  'text-xs px-2 py-1 rounded-full font-medium cursor-help',
                                                                  getVersionInfo(pokemon).color || 'bg-gray-100 text-gray-800'
                                                              ]">
                                                            {{ getVersionInfo(pokemon).display }}
                                                        </span>
                                                        <!-- „ÉÑ„Éº„É´„ÉÅ„ÉÉ„Éó -->
                                                        <div v-if="getAlternativeSources(pokemon).length > 0" 
                                                             class="absolute left-0 top-full mt-1 bg-gray-800 text-white text-xs rounded p-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-10 whitespace-nowrap">
                                                            <div class="font-medium mb-1">‰ªñ„ÇΩ„Éï„Éà„Åß„ÇÇÂÖ•ÊâãÂèØËÉΩ:</div>
                                                            <div v-for="alt in getAlternativeSources(pokemon)" :key="alt.seriesId" class="flex items-center gap-1">
                                                                <span>{{ alt.icon }}</span>
                                                                <span>{{ alt.name }}</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- ‰ªñ„ÅÆÂõ≥Èëë„ÅÆË°®Á§∫ -->
                                                    <span v-for="region in pokemon.regions" :key="region"
                                                          v-if="region !== activeTab"
                                                          :class="[
                                                              'text-xs px-2 py-1 rounded-full font-medium',
                                                              getRegionBadgeClass(region)
                                                          ]">
                                                        {{ getRegionName(region) }}Âõ≥Èëë #{{ pokemon.pokedex_numbers[region] }}
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ÁµêÊûú„ÅåÁ©∫„ÅÆÂ†¥Âêà -->
                <div v-if="filteredPokemon.length === 0" class="text-center py-12">
                    <div class="text-gray-400 text-6xl mb-4">üîç</div>
                    <p class="text-gray-600">Êù°‰ª∂„Å´‰∏ÄËá¥„Åô„Çã„Éù„Ç±„É¢„É≥„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü</p>
                    <button @click="resetFilters" 
                            class="mt-4 px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg text-sm font-medium transition-colors">
                        „Éï„Ç£„É´„Çø„Éº„Çí„É™„Çª„ÉÉ„Éà
                    </button>
                </div>
            </div>
        </div>

        <!-- „Éï„ÉÉ„Çø„Éº -->
        <div class="mt-8 text-center text-gray-500 text-sm">
            <p>üìã „Éù„Ç±„É¢„É≥Âõ≥Èëë‰∏ÄË¶ß - „Çø„ÉñË°®Á§∫Áâà | ‚ú® Vue.js „Åß‰ΩúÊàê</p>
            <p class="mt-1">‰∏ÄË¶ßË°®Á§∫Â∞ÇÁî® - „Ç≤„ÉÉ„ÉàÁÆ°ÁêÜÊ©üËÉΩ„Å™„Åó</p>
        </div>

        <!-- „Éà„ÉÉ„Éó„Å∏Êàª„Çã„Éú„Çø„É≥ -->
        <button @click="scrollToTop" 
                :class="['scroll-to-top', { visible: showScrollToTop }]"
                aria-label="„Éà„ÉÉ„Éó„Å∏Êàª„Çã">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="m18 15-6-6-6 6"/>
            </svg>
        </button>
    </div>

    <script>
        const { createApp, ref, computed, onMounted, onUnmounted } = Vue;

        createApp({
            setup() {
                // „É™„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Éá„Éº„Çø
                const zukanData = ref({ stats: {}, pokemon: [] });
                const availableGames = ref([]);
                const selectedGame = ref(null);
                const loading = ref(true);
                const activeTab = ref('paldea');
                const searchQuery = ref('');
                const showDuplicateOnly = ref(false);
                const hideDuplicates = ref(false);
                const showScrollToTop = ref(false);

                // Âõ≥ÈëëÊÉÖÂ†±
                const regions = [
                    { id: 'paldea', name: '„Éë„É´„Éá„Ç¢Âõ≥Èëë', icon: 'üèîÔ∏è' },
                    { id: 'kitakami', name: '„Ç≠„Çø„Ç´„ÉüÂõ≥Èëë', icon: 'üçÇ' },
                    { id: 'blueberry', name: '„Éñ„É´„Éº„Éô„É™„ÉºÂõ≥Èëë', icon: 'ü´ê' }
                ];

                // Âà©Áî®ÂèØËÉΩ„Å™„Ç≤„Éº„É†‰∏ÄË¶ß„ÇíË™≠„ÅøËæº„Åø
                const loadAvailableGames = async () => {
                    try {
                        const configResponse = await fetch('zukan-config.json');
                        const config = await configResponse.json();
                        
                        const games = [];
                        for (const [gameId, gameConfig] of Object.entries(config)) {
                            try {
                                const dataResponse = await fetch(`${gameId}_zukan_data.json`);
                                if (dataResponse.ok) {
                                    const gameData = await dataResponse.json();
                                    games.push({
                                        id: gameId,
                                        ...gameConfig,
                                        stats: gameData.stats
                                    });
                                }
                            } catch (error) {
                                console.log(`„Ç≤„Éº„É† ${gameId} „ÅÆ„Éá„Éº„Çø„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì`);
                            }
                        }
                        availableGames.value = games;
                    } catch (error) {
                        console.error('Ë®≠ÂÆö„Éï„Ç°„Ç§„É´„ÅÆË™≠„ÅøËæº„Åø„Ç®„É©„Éº:', error);
                    } finally {
                        loading.value = false;
                    }
                };

                // „Ç≤„Éº„É†ÈÅ∏Êäû
                const selectGame = async (gameId) => {
                    try {
                        loading.value = true;
                        const response = await fetch(`${gameId}_zukan_data.json`);
                        const data = await response.json();
                        
                        zukanData.value = data;
                        selectedGame.value = availableGames.value.find(g => g.id === gameId);
                        
                        // „Éá„Éï„Ç©„É´„Éà„Çø„Éñ„ÇíË®≠ÂÆö
                        if (selectedGame.value && selectedGame.value.regions.length > 0) {
                            activeTab.value = selectedGame.value.regions[0].id;
                        }
                        
                    } catch (error) {
                        console.error('„Ç≤„Éº„É†„Éá„Éº„Çø„ÅÆË™≠„ÅøËæº„Åø„Ç®„É©„Éº:', error);
                    } finally {
                        loading.value = false;
                    }
                };

                // „Ç≤„Éº„É†ÈÅ∏ÊäûÁîªÈù¢„Å´Êàª„Çã
                const backToGameSelection = () => {
                    selectedGame.value = null;
                    zukanData.value = { stats: {}, pokemon: [] };
                };

                // Ë®àÁÆó„Åï„Çå„Åü„Éó„É≠„Éë„ÉÜ„Ç£
                const currentTabPokemon = computed(() => {
                    return zukanData.value.pokemon.filter(p => 
                        p.regions.includes(activeTab.value)
                    ).sort((a, b) => {
                        const numA = parseInt(a.pokedex_numbers[activeTab.value]);
                        const numB = parseInt(b.pokedex_numbers[activeTab.value]);
                        return numA - numB;
                    });
                });

                const filteredPokemon = computed(() => {
                    let filtered = currentTabPokemon.value;

                    // ÈáçË§á„Éï„Ç£„É´„Çø„ÉºÔºàÊéí‰ªñÁöÑ„Å´Âãï‰ΩúÔºâ
                    if (showDuplicateOnly.value) {
                        filtered = filtered.filter(p => p.regions.length > 1);
                    } else if (hideDuplicates.value) {
                        filtered = filtered.filter(p => p.regions.length === 1);
                    }

                    // ÂêçÂâçÊ§úÁ¥¢
                    if (searchQuery.value.trim()) {
                        const query = searchQuery.value.toLowerCase().trim();
                        filtered = filtered.filter(p => 
                            p.name.toLowerCase().includes(query)
                        );
                    }

                    return filtered;
                });

                // „Éá„Çπ„ÇØ„Éà„ÉÉ„ÉóÁî®„ÅÆ2ÂàóÂàÜÂâ≤
                const leftColumnPokemon = computed(() => {
                    const filtered = filteredPokemon.value;
                    const half = Math.ceil(filtered.length / 2);
                    return filtered.slice(0, half);
                });

                const rightColumnPokemon = computed(() => {
                    const filtered = filteredPokemon.value;
                    const half = Math.ceil(filtered.length / 2);
                    return filtered.slice(half);
                });

                // „É°„ÇΩ„ÉÉ„Éâ
                const getRegionPokemonCount = (regionId) => {
                    return zukanData.value.pokemon.filter(p => 
                        p.regions.includes(regionId)
                    ).length;
                };

                const getRegionName = (regionId) => {
                    if (!selectedGame.value) return regionId;
                    const region = selectedGame.value.regions.find(r => r.id === regionId);
                    return region ? region.name.replace('Âõ≥Èëë', '') : regionId;
                };

                const getRegionIcon = (regionId) => {
                    const icons = {
                        paldea: 'üèîÔ∏è',
                        kitakami: 'üçÇ',
                        blueberry: 'ü´ê',
                        galar: '‚öîÔ∏è',
                        armor: 'üõ°Ô∏è',
                        crown: 'üëë'
                    };
                    return icons[regionId] || 'üìã';
                };

                const getGameIcon = (gameId) => {
                    const icons = {
                        paldea: 'üèîÔ∏è',
                        galar: '‚öîÔ∏è',
                        alola: 'üå∫',
                        kalos: 'üóº',
                        unova: 'üèôÔ∏è',
                        sinnoh: '‚õ∞Ô∏è',
                        hoenn: 'üåä',
                        johto: 'üå∏',
                        kanto: 'üî•'
                    };
                    return icons[gameId] || 'üéÆ';
                };

                const getRegionBadgeClass = (regionId) => {
                    const classes = {
                        paldea: 'bg-green-100 text-green-800',
                        kitakami: 'bg-orange-100 text-orange-800',
                        blueberry: 'bg-blue-100 text-blue-800',
                        galar: 'bg-purple-100 text-purple-800',
                        armor: 'bg-yellow-100 text-yellow-800',
                        crown: 'bg-red-100 text-red-800'
                    };
                    return classes[regionId] || 'bg-gray-100 text-gray-800';
                };

                // „Éê„Éº„Ç∏„Éß„É≥ÈôêÂÆöÊÉÖÂ†±„ÇíÂèñÂæóÔºàÁèæÂú®„ÅÆ„Ç≤„Éº„É†Â∞ÇÁî®Ôºâ
                const getVersionInfo = (pokemon) => {
                    if (!pokemon.versions || !selectedGame.value) return null;
                    
                    const gameConfig = selectedGame.value;
                    if (!gameConfig.versions) return null;
                    
                    // ÁèæÂú®„ÅÆ„Ç≤„Éº„É†„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„ÅÆ„Åø„Çí„ÉÅ„Çß„ÉÉ„ÇØ
                    const gameVersions = Object.keys(gameConfig.versions);
                    const availableVersions = gameVersions.filter(version => pokemon.versions[version]);
                    
                    if (availableVersions.length === 0) {
                        return { type: 'none', display: '‚ùå ÂÖ•Êâã‰∏çÂèØ' };
                    } else if (availableVersions.length === gameVersions.length) {
                        return { type: 'both', display: '‚úÖ ‰∏°„Éê„Éº„Ç∏„Éß„É≥' };
                    } else {
                        const version = availableVersions[0];
                        const versionConfig = gameConfig.versions[version];
                        return {
                            type: 'exclusive',
                            version: version,
                            display: `${versionConfig.icon} ${versionConfig.name}ÈôêÂÆö`,
                            color: versionConfig.color
                        };
                    }
                };

                // ‰ªñ„ÇΩ„Éï„Éà„Åß„ÅÆÂÖ•ÊâãÂèØËÉΩÊÄß„Çí„ÉÅ„Çß„ÉÉ„ÇØ
                const getAlternativeSources = (pokemon) => {
                    if (!pokemon.availableIn || !selectedGame.value) return [];
                    
                    const currentSeriesId = selectedGame.value.seriesId;
                    const alternatives = [];
                    
                    // ‰ªñ„ÅÆ„ÇΩ„Éï„Éà„Ç∑„É™„Éº„Ç∫„ÅßÂÖ•ÊâãÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
                    Object.entries(pokemon.availableIn).forEach(([seriesId, available]) => {
                        if (seriesId !== currentSeriesId && available) {
                            // „ÇΩ„Éï„Éà„Ç∑„É™„Éº„Ç∫Âêç„ÇíÂèñÂæó
                            const seriesNames = {
                                'sv': '„Çπ„Ç´„Éº„É¨„ÉÉ„Éà„Éª„Éê„Ç§„Ç™„É¨„ÉÉ„Éà',
                                'swsh': '„ÇΩ„Éº„Éâ„Éª„Ç∑„Éº„É´„Éâ', 
                                'sm': '„Çµ„É≥„Éª„É†„Éº„É≥',
                                'xy': 'X„ÉªY',
                                'bw': '„Éñ„É©„ÉÉ„ÇØ„Éª„Éõ„ÉØ„Ç§„Éà'
                            };
                            const seriesIcons = {
                                'sv': 'üèîÔ∏è',
                                'swsh': '‚öîÔ∏è',
                                'sm': 'üå∫',
                                'xy': 'üóº',
                                'bw': 'üèôÔ∏è'
                            };
                            
                            if (seriesNames[seriesId]) {
                                alternatives.push({
                                    seriesId,
                                    name: seriesNames[seriesId],
                                    icon: seriesIcons[seriesId] || 'üéÆ'
                                });
                            }
                        }
                    });
                    
                    return alternatives;
                };

                // ÈáçË§á„Éï„Ç£„É´„Çø„Éº„ÅÆÊéí‰ªñÁöÑÂàá„ÇäÊõø„Åà
                const toggleDuplicateFilter = (type) => {
                    if (type === 'only') {
                        showDuplicateOnly.value = !showDuplicateOnly.value;
                        if (showDuplicateOnly.value) {
                            hideDuplicates.value = false;
                        }
                    } else if (type === 'hide') {
                        hideDuplicates.value = !hideDuplicates.value;
                        if (hideDuplicates.value) {
                            showDuplicateOnly.value = false;
                        }
                    }
                };

                const resetFilters = () => {
                    searchQuery.value = '';
                    showDuplicateOnly.value = false;
                    hideDuplicates.value = false;
                };

                // „Çπ„ÇØ„É≠„Éº„É´Èñ¢ÈÄ£
                const scrollToTop = () => {
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                };

                const handleScroll = () => {
                    showScrollToTop.value = window.scrollY > 300;
                };

                // „É©„Ç§„Éï„Çµ„Ç§„ÇØ„É´
                onMounted(() => {
                    loadAvailableGames();
                    window.addEventListener('scroll', handleScroll);
                });

                onUnmounted(() => {
                    window.removeEventListener('scroll', handleScroll);
                });

                return {
                    zukanData,
                    availableGames,
                    selectedGame,
                    loading,
                    activeTab,
                    searchQuery,
                    showDuplicateOnly,
                    hideDuplicates,
                    showScrollToTop,
                    currentTabPokemon,
                    filteredPokemon,
                    leftColumnPokemon,
                    rightColumnPokemon,
                    loadAvailableGames,
                    selectGame,
                    backToGameSelection,
                    getRegionPokemonCount,
                    getRegionName,
                    getRegionIcon,
                    getGameIcon,
                    getRegionBadgeClass,
                    getVersionInfo,
                    getAlternativeSources,
                    toggleDuplicateFilter,
                    resetFilters,
                    scrollToTop,
                    handleScroll
                };
            }
        }).mount('#app');
    </script>
</body>
</html>